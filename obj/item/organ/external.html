<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/item/organ/external - MonkeStation 2.0</title></head><body><header><a href="index.html">MonkeStation 2.0</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/item/organ/external.html#var">Var Details</a> - <a href="obj/item/organ/external.html#proc">Proc Details</a></header><main><h1>external <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/<a href="obj/item/organ/external.html">external</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/_external_organs.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 6"></a></h1><p>System for drawing organs with overlays. These overlays are drawn directly on the bodypart, attached to a person or not
Works in tandem with the /datum/sprite_accessory datum to generate sprites
Unlike normal organs, we're actually inside a persons limbs at all times</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/item/organ/external.html#var/bodypart_overlay">bodypart_overlay</a></th><td>The overlay datum that actually draws stuff on the limb</td></tr><tr><th><a href="obj/item/organ/external.html#var/dna_block">dna_block</a></th><td>With what DNA block do we mutate in mutate_feature() ? For genetics</td></tr><tr><th><a href="obj/item/organ/external.html#var/ownerlimb">ownerlimb</a></th><td>Reference to the limb we're inside of</td></tr><tr><th><a href="obj/item/organ/external.html#var/preference">preference</a></th><td>The savefile_key of the preference this relates to. Used for the preferences UI.</td></tr><tr><th><a href="obj/item/organ/external.html#var/restyle_flags">restyle_flags</a></th><td>Which flags does a 'modification tool' need to have to restyle us, if it all possible (located in code/_DEFINES/mobs)</td></tr><tr><th><a href="obj/item/organ/external.html#var/sprite_accessory_override">sprite_accessory_override</a></th><td>If not null, overrides the appearance with this sprite accessory datum</td></tr><tr><th><a href="obj/item/organ/external.html#var/use_mob_sprite_as_obj_sprite">use_mob_sprite_as_obj_sprite</a></th><td>Set to EXTERNAL_BEHIND, EXTERNAL_FRONT or EXTERNAL_ADJACENT if you want to draw one of those layers as the object sprite. FALSE to use your own
This will not work if it doesn't have a limb to generate it's icon with</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/item/organ/external.html#proc/Initialize">Initialize</a></th><td>mob_sprite is optional if you havent set sprite_datums for the object, and is used mostly to generate sprite_datums from a persons DNA
For _mob_sprite we make a distinction between &quot;Round Snout&quot; and &quot;round&quot;. Round Snout is the name of the sprite datum, while &quot;round&quot; would be part of the sprite
I'm sorry</td></tr><tr><th><a href="obj/item/organ/external.html#proc/attempt_feature_restyle">attempt_feature_restyle</a></th><td>Restyles the external organ from a list of valid options</td></tr><tr><th><a href="obj/item/organ/external.html#proc/get_valid_restyles">get_valid_restyles</a></th><td>Helper proc to fetch a list of styles a player might want to restyle their features into during the round : returns list(&quot;Cabbage&quot; = /datum/sprite_accessory/cabbage)</td></tr><tr><th><a href="obj/item/organ/external.html#proc/mutate_feature">mutate_feature</a></th><td>Update our features after something changed our appearance</td></tr><tr><th><a href="obj/item/organ/external.html#proc/on_attempt_feature_restyle">on_attempt_feature_restyle</a></th><td>Invoke async so we dont break signals</td></tr><tr><th><a href="obj/item/organ/external.html#proc/simple_change_sprite">simple_change_sprite</a></th><td>If you need to change an external_organ for simple one-offs, use this. Pass the accessory type : /datum/accessory/something</td></tr><tr><th><a href="obj/item/organ/external.html#proc/transfer_to_limb">transfer_to_limb</a></th><td>Transfers the organ to the limb, and to the limb's owner, if it has one.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/bodypart_overlay"><aside class="declaration">var </aside>bodypart_overlay <aside>– /<a href="datum.html">datum</a>/<a href="datum/bodypart_overlay.html">bodypart_overlay</a>/<a href="datum/bodypart_overlay/mutant.html">mutant</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/_external_organs.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 19"></a></h3><p>The overlay datum that actually draws stuff on the limb</p><h3 id="var/dna_block"><aside class="declaration">var </aside>dna_block <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/_external_organs.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 16"></a></h3><p>With what DNA block do we mutate in mutate_feature() ? For genetics</p><h3 id="var/ownerlimb"><aside class="declaration">var </aside>ownerlimb <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/_external_organs.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 21"></a></h3><p>Reference to the limb we're inside of</p><h3 id="var/preference"><aside class="declaration">var </aside>preference <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/_external_organs.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 14"></a></h3><p>The savefile_key of the preference this relates to. Used for the preferences UI.</p><h3 id="var/restyle_flags"><aside class="declaration">var </aside>restyle_flags <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/_external_organs.dm#L29"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 29"></a></h3><p>Which flags does a 'modification tool' need to have to restyle us, if it all possible (located in code/_DEFINES/mobs)</p><h3 id="var/sprite_accessory_override"><aside class="declaration">var </aside>sprite_accessory_override <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/_external_organs.dm#L23"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 23"></a></h3><p>If not null, overrides the appearance with this sprite accessory datum</p><h3 id="var/use_mob_sprite_as_obj_sprite"><aside class="declaration">var </aside>use_mob_sprite_as_obj_sprite <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/_external_organs.dm#L27"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 27"></a></h3><p>Set to EXTERNAL_BEHIND, EXTERNAL_FRONT or EXTERNAL_ADJACENT if you want to draw one of those layers as the object sprite. FALSE to use your own
This will not work if it doesn't have a limb to generate it's icon with</p><h2 id="proc">Proc Details</h2><h3 id="proc/Initialize"><aside class="parent"><a title="/atom" href="atom.html#proc/Initialize">↑</a></aside>Initialize<aside>(mapload, accessory_type)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/_external_organs.dm#L35"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 35"></a></aside></h3><p>mob_sprite is optional if you havent set sprite_datums for the object, and is used mostly to generate sprite_datums from a persons DNA
For _mob_sprite we make a distinction between &quot;Round Snout&quot; and &quot;round&quot;. Round Snout is the name of the sprite datum, while &quot;round&quot; would be part of the sprite
I'm sorry</p><h3 id="proc/attempt_feature_restyle"><aside class="declaration">proc </aside>attempt_feature_restyle<aside>(/<a href="atom.html">atom</a>/source, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/trimmer, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/original_target, body_zone, restyle_type, style_speed)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/restyling.dm#L69"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/restyling.dm 69"></a></aside></h3><p>Restyles the external organ from a list of valid options</p><h3 id="proc/get_valid_restyles"><aside class="declaration">proc </aside>get_valid_restyles<aside>()  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/restyling.dm#L4"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/restyling.dm 4"></a></aside></h3><p>Helper proc to fetch a list of styles a player might want to restyle their features into during the round : returns list(&quot;Cabbage&quot; = /datum/sprite_accessory/cabbage)</p><h3 id="proc/mutate_feature"><aside class="declaration">proc </aside>mutate_feature<aside>(features, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/human)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/_external_organs.dm#L150"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 150"></a></aside></h3><p>Update our features after something changed our appearance</p><h3 id="proc/on_attempt_feature_restyle"><aside class="declaration">proc </aside>on_attempt_feature_restyle<aside>(/<a href="atom.html">atom</a>/source, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/trimmer, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/original_target, body_zone, restyle_type, style_speed)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/restyling.dm#L60"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/restyling.dm 60"></a></aside></h3><p>Invoke async so we dont break signals</p><h3 id="proc/simple_change_sprite"><aside class="declaration">proc </aside>simple_change_sprite<aside>(accessory_type)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/_external_organs.dm#L159"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 159"></a></aside></h3><p>If you need to change an external_organ for simple one-offs, use this. Pass the accessory type : /datum/accessory/something</p><h3 id="proc/transfer_to_limb"><aside class="parent"><a title="/obj/item/organ" href="obj/item/organ.html#proc/transfer_to_limb">↑</a></aside>transfer_to_limb<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/bodypart, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/bodypart_owner)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/surgery/organs/external/_external_organs.dm#L109"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 109"></a></aside></h3><p>Transfers the organ to the limb, and to the limb's owner, if it has one.</p></main><footer>tgstation.dme <a href="https://github.com/wraith-54321/Monkestation2.0/tree/e8578eb37f64beb024e8b82c982cba9918712316">e8578eb</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>