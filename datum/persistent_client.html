<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/persistent_client - MonkeStation 2.0</title></head><body><header><a href="index.html">MonkeStation 2.0</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/persistent_client.html#var">Var Details</a> - <a href="datum/persistent_client.html#proc">Proc Details</a></header><main><h1>persistent_client <aside>/<a href="datum.html">datum</a>/<a href="datum/persistent_client.html">persistent_client</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 7"></a></h1><p>Tracks information about a client between log in and log outs</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/persistent_client.html#var/achievements">achievements</a></th><td>Tracks achievements they have earned</td></tr><tr><th><a href="datum/persistent_client.html#var/active_challenges">active_challenges</a></th><td>Currently active challenges.</td></tr><tr><th><a href="datum/persistent_client.html#var/applied_challenges">applied_challenges</a></th><td>Currently applied challenges.</td></tr><tr><th><a href="datum/persistent_client.html#var/byond_build">byond_build</a></th><td>Build number of BYOND this client was last using.</td></tr><tr><th><a href="datum/persistent_client.html#var/byond_version">byond_version</a></th><td>Major version of BYOND this client was last using.</td></tr><tr><th><a href="datum/persistent_client.html#var/challenge_menu">challenge_menu</a></th><td>The challenge menu for this mob.</td></tr><tr><th><a href="datum/persistent_client.html#var/client">client</a></th><td>The true client</td></tr><tr><th><a href="datum/persistent_client.html#var/discord_details">discord_details</a></th><td>Discord linking details for this player.</td></tr><tr><th><a href="datum/persistent_client.html#var/joined_as_slots">joined_as_slots</a></th><td>Lazylist of preference slots this client has joined the round under
Numbers are stored as strings</td></tr><tr><th><a href="datum/persistent_client.html#var/logging">logging</a></th><td>Tracks client action logging</td></tr><tr><th><a href="datum/persistent_client.html#var/mob">mob</a></th><td>The mob this persistent client is currently bound to.</td></tr><tr><th><a href="datum/persistent_client.html#var/patreon">patreon</a></th><td>Patreon data for this player.</td></tr><tr><th><a href="datum/persistent_client.html#var/played_names">played_names</a></th><td>List of names this key played under this round
assoc list of name -&gt; mob tag</td></tr><tr><th><a href="datum/persistent_client.html#var/player_actions">player_actions</a></th><td>Action datums assigned to this player</td></tr><tr><th><a href="datum/persistent_client.html#var/post_login_callbacks">post_login_callbacks</a></th><td>Callbacks invoked when this client logs in again</td></tr><tr><th><a href="datum/persistent_client.html#var/post_logout_callbacks">post_logout_callbacks</a></th><td>Callbacks invoked when this client logs out</td></tr><tr><th><a href="datum/persistent_client.html#var/roundend_monkecoin_bonus">roundend_monkecoin_bonus</a></th><td>Bonus monkecoins to reward this player at roundend.</td></tr><tr><th><a href="datum/persistent_client.html#var/time_of_death">time_of_death</a></th><td>World.time this player last died</td></tr><tr><th><a href="datum/persistent_client.html#var/twitch">twitch</a></th><td>Twitch subscription data for this player.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/persistent_client.html#proc/full_byond_version">full_byond_version</a></th><td>Returns the full version string (i.e 515.1642) of the BYOND version and build.</td></tr><tr><th><a href="datum/persistent_client.html#proc/get_played_names">get_played_names</a></th><td>Writes all of the <code>played_names</code> into an HTML-escaped string.</td></tr><tr><th><a href="datum/persistent_client.html#proc/set_client">set_client</a></th><td>Setter for the client var, updates any vars we have that might be dependent on client state</td></tr><tr><th><a href="datum/persistent_client.html#proc/set_mob">set_mob</a></th><td>Setter for the mob var, handles both references.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/achievements"><aside class="declaration">var </aside>achievements <aside>– /<a href="datum.html">datum</a>/<a href="datum/achievement_data.html">achievement_data</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 36"></a></h3><p>Tracks achievements they have earned</p><h3 id="var/active_challenges"><aside class="declaration">var </aside>active_challenges <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/challenge.html">challenge</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/client/persistent_client.dm#L9"><img src="git.png" width="16" height="16" title="monkestation/code/modules/client/persistent_client.dm 9"></a></h3><p>Currently active challenges.</p><h3 id="var/applied_challenges"><aside class="declaration">var </aside>applied_challenges <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/challenge.html">challenge</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/client/persistent_client.dm#L11"><img src="git.png" width="16" height="16" title="monkestation/code/modules/client/persistent_client.dm 11"></a></h3><p>Currently applied challenges.</p><h3 id="var/byond_build"><aside class="declaration">var </aside>byond_build <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 16"></a></h3><p>Build number of BYOND this client was last using.</p><h3 id="var/byond_version"><aside class="declaration">var </aside>byond_version <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 14"></a></h3><p>Major version of BYOND this client was last using.</p><h3 id="var/challenge_menu"><aside class="declaration">var </aside>challenge_menu <aside>– /<a href="datum.html">datum</a>/<a href="datum/challenge_selector.html">challenge_selector</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/client/persistent_client.dm#L13"><img src="git.png" width="16" height="16" title="monkestation/code/modules/client/persistent_client.dm 13"></a></h3><p>The challenge menu for this mob.</p><h3 id="var/client"><aside class="declaration">var </aside>client <aside>– /<a href="client.html">client</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 9"></a></h3><p>The true client</p><h3 id="var/discord_details"><aside class="declaration">var </aside>discord_details <aside>– /<a href="datum.html">datum</a>/discord_details</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/client/persistent_client.dm#L7"><img src="git.png" width="16" height="16" title="monkestation/code/modules/client/persistent_client.dm 7"></a></h3><p>Discord linking details for this player.</p><h3 id="var/joined_as_slots"><aside class="declaration">var </aside>joined_as_slots <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L33"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 33"></a></h3><p>Lazylist of preference slots this client has joined the round under
Numbers are stored as strings</p><h3 id="var/logging"><aside class="declaration">var </aside>logging <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 21"></a></h3><p>Tracks client action logging</p><h3 id="var/mob"><aside class="declaration">var </aside>mob <aside>– /<a href="mob.html">mob</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L11"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 11"></a></h3><p>The mob this persistent client is currently bound to.</p><h3 id="var/patreon"><aside class="declaration">var </aside>patreon <aside>– /<a href="datum.html">datum</a>/<a href="datum/patreon_data.html">patreon_data</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/client/persistent_client.dm#L3"><img src="git.png" width="16" height="16" title="monkestation/code/modules/client/persistent_client.dm 3"></a></h3><p>Patreon data for this player.</p><h3 id="var/played_names"><aside class="declaration">var </aside>played_names <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 30"></a></h3><p>List of names this key played under this round
assoc list of name -&gt; mob tag</p><h3 id="var/player_actions"><aside class="declaration">var </aside>player_actions <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/action.html">action</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 19"></a></h3><p>Action datums assigned to this player</p><h3 id="var/post_login_callbacks"><aside class="declaration">var </aside>post_login_callbacks <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 24"></a></h3><p>Callbacks invoked when this client logs in again</p><h3 id="var/post_logout_callbacks"><aside class="declaration">var </aside>post_logout_callbacks <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 26"></a></h3><p>Callbacks invoked when this client logs out</p><h3 id="var/roundend_monkecoin_bonus"><aside class="declaration">var </aside>roundend_monkecoin_bonus <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/client/persistent_client.dm#L15"><img src="git.png" width="16" height="16" title="monkestation/code/modules/client/persistent_client.dm 15"></a></h3><p>Bonus monkecoins to reward this player at roundend.</p><h3 id="var/time_of_death"><aside class="declaration">var </aside>time_of_death <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 39"></a></h3><p>World.time this player last died</p><h3 id="var/twitch"><aside class="declaration">var </aside>twitch <aside>– /<a href="datum.html">datum</a>/<a href="datum/twitch_data.html">twitch_data</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/client/persistent_client.dm#L5"><img src="git.png" width="16" height="16" title="monkestation/code/modules/client/persistent_client.dm 5"></a></h3><p>Twitch subscription data for this player.</p><h2 id="proc">Proc Details</h2><h3 id="proc/full_byond_version"><aside class="declaration">proc </aside>full_byond_version<aside>()  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L84"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 84"></a></aside></h3><p>Returns the full version string (i.e 515.1642) of the BYOND version and build.</p><h3 id="proc/get_played_names"><aside class="declaration">proc </aside>get_played_names<aside>(sanitize, seperator)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L76"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 76"></a></aside></h3><p>Writes all of the <code>played_names</code> into an HTML-escaped string.</p><h3 id="proc/set_client"><aside class="declaration">proc </aside>set_client<aside>(/<a href="client.html">client</a>/new_client)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L52"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 52"></a></aside></h3><p>Setter for the client var, updates any vars we have that might be dependent on client state</p><h3 id="proc/set_mob"><aside class="declaration">proc </aside>set_mob<aside>(/<a href="mob.html">mob</a>/new_mob)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/code/modules/client/persistent_client.dm#L65"><img src="git.png" width="16" height="16" title="code/modules/client/persistent_client.dm 65"></a></aside></h3><p>Setter for the mob var, handles both references.</p></main><footer>tgstation.dme <a href="https://github.com/wraith-54321/Monkestation2.0/tree/e8578eb37f64beb024e8b82c982cba9918712316">e8578eb</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>