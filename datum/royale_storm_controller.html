<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/royale_storm_controller - MonkeStation 2.0</title></head><body><header><a href="index.html">MonkeStation 2.0</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/royale_storm_controller.html#var">Var Details</a> - <a href="datum/royale_storm_controller.html#proc">Proc Details</a></header><main><h1>royale_storm_controller <aside>/<a href="datum.html">datum</a>/<a href="datum/royale_storm_controller.html">royale_storm_controller</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L5"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 5"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/royale_storm_controller.html#var/current_ring">current_ring</a></th><td>what ring are we currently consuming</td></tr><tr><th><a href="datum/royale_storm_controller.html#var/ring_advance_delay">ring_advance_delay</a></th><td>how often do we advance after we start consuming the station</td></tr><tr><th><a href="datum/royale_storm_controller.html#var/rings_to_consume">rings_to_consume</a></th><td>assoc list of rings of turfs to consume</td></tr><tr><th><a href="datum/royale_storm_controller.html#var/royale_controller">royale_controller</a></th><td>ref to our royale controller</td></tr><tr><th><a href="datum/royale_storm_controller.html#var/safe_areas">safe_areas</a></th><td>list of areas its safe to be in, we have to do this ourselves as station areas is based on Z level</td></tr><tr><th><a href="datum/royale_storm_controller.html#var/start_consuming_delay">start_consuming_delay</a></th><td>how long of a delay after the royale starts do we have until we start consuming the station</td></tr><tr><th><a href="datum/royale_storm_controller.html#var/storms">storms</a></th><td>assoc list of turfs and their storm effects</td></tr><tr><th><a href="datum/royale_storm_controller.html#var/timerid">timerid</a></th><td>timer id to the next ring consumption</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/royale_storm_controller.html#proc/build_rings">build_rings</a></th><td>Build our storm rings</td></tr><tr><th><a href="datum/royale_storm_controller.html#proc/calculate_advance_time">calculate_advance_time</a></th><td>calculate how long inbetween each consume to get the desired game length</td></tr><tr><th><a href="datum/royale_storm_controller.html#proc/consume_ring">consume_ring</a></th><td>consume an area with a storm</td></tr><tr><th><a href="datum/royale_storm_controller.html#proc/end_storm">end_storm</a></th><td>ends the storm.</td></tr><tr><th><a href="datum/royale_storm_controller.html#proc/setup">setup</a></th><td>set us up and start us</td></tr><tr><th><a href="datum/royale_storm_controller.html#proc/stop_storm">stop_storm</a></th><td>stops the storm.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/current_ring"><aside class="declaration">var </aside>current_ring <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L21"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 21"></a></h3><p>what ring are we currently consuming</p><h3 id="var/ring_advance_delay"><aside class="declaration">var </aside>ring_advance_delay <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L7"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 7"></a></h3><p>how often do we advance after we start consuming the station</p><h3 id="var/rings_to_consume"><aside class="declaration">var </aside>rings_to_consume <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L11"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 11"></a></h3><p>assoc list of rings of turfs to consume</p><h3 id="var/royale_controller"><aside class="declaration">var </aside>royale_controller <aside>– /<a href="datum.html">datum</a>/<a href="datum/battle_royale_controller.html">battle_royale_controller</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L17"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 17"></a></h3><p>ref to our royale controller</p><h3 id="var/safe_areas"><aside class="declaration">var </aside>safe_areas <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L19"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 19"></a></h3><p>list of areas its safe to be in, we have to do this ourselves as station areas is based on Z level</p><h3 id="var/start_consuming_delay"><aside class="declaration">var </aside>start_consuming_delay <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L9"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 9"></a></h3><p>how long of a delay after the royale starts do we have until we start consuming the station</p><h3 id="var/storms"><aside class="declaration">var </aside>storms <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L15"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 15"></a></h3><p>assoc list of turfs and their storm effects</p><h3 id="var/timerid"><aside class="declaration">var </aside>timerid <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L13"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 13"></a></h3><p>timer id to the next ring consumption</p><h2 id="proc">Proc Details</h2><h3 id="proc/build_rings"><aside class="declaration">proc </aside>build_rings<aside>()  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L40"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 40"></a></aside></h3><p>Build our storm rings</p><h3 id="proc/calculate_advance_time"><aside class="declaration">proc </aside>calculate_advance_time<aside>()  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L60"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 60"></a></aside></h3><p>calculate how long inbetween each consume to get the desired game length</p><h3 id="proc/consume_ring"><aside class="declaration">proc </aside>consume_ring<aside>()  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L68"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 68"></a></aside></h3><p>consume an area with a storm</p><h3 id="proc/end_storm"><aside class="declaration">proc </aside>end_storm<aside>()  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L91"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 91"></a></aside></h3><p>ends the storm.</p><h3 id="proc/setup"><aside class="declaration">proc </aside>setup<aside>()  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L29"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 29"></a></aside></h3><p>set us up and start us</p><h3 id="proc/stop_storm"><aside class="declaration">proc </aside>stop_storm<aside>()  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm#L84"><img src="git.png" width="16" height="16" title="monkestation/code/modules/admin/battle_royale/battle_royale_storm.dm 84"></a></aside></h3><p>stops the storm.</p></main><footer>tgstation.dme <a href="https://github.com/wraith-54321/Monkestation2.0/tree/e8578eb37f64beb024e8b82c982cba9918712316">e8578eb</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>