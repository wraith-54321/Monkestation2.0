<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/enchantment - MonkeStation 2.0</title></head><body><header><a href="index.html">MonkeStation 2.0</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/enchantment.html#var">Var Details</a> - <a href="datum/enchantment.html#proc">Proc Details</a></header><main><h1>enchantment <aside>/<a href="datum.html">datum</a>/<a href="datum/enchantment.html">enchantment</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e87cd5865da73e1fc78dbf3ac640d3e7369d7fa2/monkestation/code/datums/components/enchantments/_enchanted.dm#L73"><img src="git.png" width="16" height="16" title="monkestation/code/datums/components/enchantments/_enchanted.dm 73"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/enchantment.html#var/allowed_on">allowed_on</a></th><td>Typecache of items we are allowed on, generation handled in get_allowed_on</td></tr><tr><th><a href="datum/enchantment.html#var/components_by_parent">components_by_parent</a></th><td>A recursive assoc list keyed as: [parent] = list(text_ref(enchant_component.used_enchantment) = enchant_component)</td></tr><tr><th><a href="datum/enchantment.html#var/examine_description">examine_description</a></th><td>Examine text</td></tr><tr><th><a href="datum/enchantment.html#var/max_level">max_level</a></th><td>Maximum enchantment level</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/enchantment.html#proc/get_allowed_on">get_allowed_on</a></th><td>Because of dumb BYOND reasons in order to get fine manual control we need to handle generation of allowed_on this way(via setting the default passed values)</td></tr><tr><th><a href="datum/enchantment.html#proc/register_item">register_item</a></th><td>Handle comsig reg here</td></tr><tr><th><a href="datum/enchantment.html#proc/unregister_item">unregister_item</a></th><td>Handle comsig unreg here</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/allowed_on"><aside class="declaration">var </aside>allowed_on <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e87cd5865da73e1fc78dbf3ac640d3e7369d7fa2/monkestation/code/datums/components/enchantments/_enchanted.dm#L79"><img src="git.png" width="16" height="16" title="monkestation/code/datums/components/enchantments/_enchanted.dm 79"></a></h3><p>Typecache of items we are allowed on, generation handled in get_allowed_on</p><h3 id="var/components_by_parent"><aside class="declaration">var </aside>components_by_parent <aside>– /static/list/list/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/enchanted.html">enchanted</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e87cd5865da73e1fc78dbf3ac640d3e7369d7fa2/monkestation/code/datums/components/enchantments/_enchanted.dm#L81"><img src="git.png" width="16" height="16" title="monkestation/code/datums/components/enchantments/_enchanted.dm 81"></a></h3><p>A recursive assoc list keyed as: [parent] = list(text_ref(enchant_component.used_enchantment) = enchant_component)</p><h3 id="var/examine_description"><aside class="declaration">var </aside>examine_description <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e87cd5865da73e1fc78dbf3ac640d3e7369d7fa2/monkestation/code/datums/components/enchantments/_enchanted.dm#L75"><img src="git.png" width="16" height="16" title="monkestation/code/datums/components/enchantments/_enchanted.dm 75"></a></h3><p>Examine text</p><h3 id="var/max_level"><aside class="declaration">var </aside>max_level <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e87cd5865da73e1fc78dbf3ac640d3e7369d7fa2/monkestation/code/datums/components/enchantments/_enchanted.dm#L77"><img src="git.png" width="16" height="16" title="monkestation/code/datums/components/enchantments/_enchanted.dm 77"></a></h3><p>Maximum enchantment level</p><h2 id="proc">Proc Details</h2><h3 id="proc/get_allowed_on"><aside class="declaration">proc </aside>get_allowed_on<aside>(/list/allowed_on_base, /list/denied_from, /list/overriden_types)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e87cd5865da73e1fc78dbf3ac640d3e7369d7fa2/monkestation/code/datums/components/enchantments/_enchanted.dm#L96"><img src="git.png" width="16" height="16" title="monkestation/code/datums/components/enchantments/_enchanted.dm 96"></a></aside></h3><p>Because of dumb BYOND reasons in order to get fine manual control we need to handle generation of allowed_on this way(via setting the default passed values)</p>
<p>allowed_on_base - Typecache of items we are allowed on</p>
<p>denied_from - Anything in this list will be set to FALSE in allowed_on</p>
<p>overriden_types - Any values in this list will override allowed_on, this is handled last</p><h3 id="proc/register_item"><aside class="declaration">proc </aside>register_item<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/target)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e87cd5865da73e1fc78dbf3ac640d3e7369d7fa2/monkestation/code/datums/components/enchantments/_enchanted.dm#L119"><img src="git.png" width="16" height="16" title="monkestation/code/datums/components/enchantments/_enchanted.dm 119"></a></aside></h3><p>Handle comsig reg here</p><h3 id="proc/unregister_item"><aside class="declaration">proc </aside>unregister_item<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/target)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e87cd5865da73e1fc78dbf3ac640d3e7369d7fa2/monkestation/code/datums/components/enchantments/_enchanted.dm#L123"><img src="git.png" width="16" height="16" title="monkestation/code/datums/components/enchantments/_enchanted.dm 123"></a></aside></h3><p>Handle comsig unreg here</p></main><footer>tgstation.dme <a href="https://github.com/wraith-54321/Monkestation2.0/tree/e87cd5865da73e1fc78dbf3ac640d3e7369d7fa2">e87cd58</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>