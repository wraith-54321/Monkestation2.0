<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/controller/subsystem/processing/the_ark - MonkeStation 2.0</title></head><body><header><a href="index.html">MonkeStation 2.0</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/controller/subsystem/processing/the_ark.html#var">Var Details</a> - <a href="datum/controller/subsystem/processing/the_ark.html#proc">Proc Details</a></header><main><h1>the_ark <aside>/<a href="datum.html">datum</a>/<a href="datum/controller/subsystem.html">controller/subsystem</a>/<a href="datum/controller/subsystem/processing/the_ark.html">processing/the_ark</a></aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L3"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 3"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/anchoring_crystals">anchoring_crystals</a></th><td>The list of anchoring crystals, value is 0 is uncharged and 1 if charged
The list of anchoring crystals, value is 0 is uncharged and 1 if charged</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/charged_anchoring_crystals">charged_anchoring_crystals</a></th><td>How many charged anchoring crystals are there</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/clock_dimension_theme">clock_dimension_theme</a></th><td>Dimension theme used for transforming turfs</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/clock_power">clock_power</a></th><td>How much power does the cult have stored</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/clockwork_marauders">clockwork_marauders</a></th><td>A list of all clockwork marauders</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/cogscarabs">cogscarabs</a></th><td>A list of all cogscarabs</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/hallucination_pool">hallucination_pool</a></th><td>The pool of hallucinations we can trigger</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/marked_areas">marked_areas</a></th><td>The list of areas that has been marked by the cult, formatted as a filled with 1s for anti duplication</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/max_clock_power">max_clock_power</a></th><td>What is the maximum amount of power the cult can have stored</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/passive_power">passive_power</a></th><td>How much passive power does the cult have access to, this gets used for things like turning on structures</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/reebe_areas">reebe_areas</a></th><td>A list of all the areas on reebe</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/reebe_clockwork_airlock_count">reebe_clockwork_airlock_count</a></th><td>How many clockwork airlocks have been created on reebe, used for limiting airlock spam</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#var/valid_crystal_areas">valid_crystal_areas</a></th><td>Assoc list of the original names of areas that are valid to summon anchoring crystals keyed to its area</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#proc/adjust_clock_power">adjust_clock_power</a></th><td>try and adjust our clock_power, returns FALSE if it would put us above our max_clock_power or below 0, set always_adjust to TRUE to make us instead just adjust to be within bounds</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#proc/adjust_passive_power">adjust_passive_power</a></th><td>same as adjust_clock_power() but much simpler as this does not have a max amount and is somewhat static, set only_check to TRUE to skip the actual adjustment step</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#proc/block_shuttle">block_shuttle</a></th><td>fully disables the shuttle similar to the admin verb</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#proc/clear_shuttle_interference">clear_shuttle_interference</a></th><td>renables the shuttle</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#proc/convert_area_turfs">convert_area_turfs</a></th><td>set up timed do_turf_conversion calls for the turfs in an area</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#proc/do_turf_conversion">do_turf_conversion</a></th><td>convert a turf to our dimension theme</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#proc/get_charged_anchor_crystals">get_charged_anchor_crystals</a></th><td>returns how many charged anchor crystals there are</td></tr><tr><th><a href="datum/controller/subsystem/processing/the_ark.html#proc/on_crystal_charged">on_crystal_charged</a></th><td>called when an anchoring crystal is charged</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/anchoring_crystals"><aside class="declaration">var </aside>anchoring_crystals <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L15"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 15"></a></h3><p>The list of anchoring crystals, value is 0 is uncharged and 1 if charged
The list of anchoring crystals, value is 0 is uncharged and 1 if charged</p><h3 id="var/charged_anchoring_crystals"><aside class="declaration">var </aside>charged_anchoring_crystals <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L20"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 20"></a></h3><p>How many charged anchoring crystals are there</p><h3 id="var/clock_dimension_theme"><aside class="declaration">var </aside>clock_dimension_theme <aside>– /<a href="datum.html">datum</a>/<a href="datum/dimension_theme.html">dimension_theme</a>/clockwork</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L17"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 17"></a></h3><p>Dimension theme used for transforming turfs</p><h3 id="var/clock_power"><aside class="declaration">var </aside>clock_power <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L28"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 28"></a></h3><p>How much power does the cult have stored</p><h3 id="var/clockwork_marauders"><aside class="declaration">var </aside>clockwork_marauders <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L38"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 38"></a></h3><p>A list of all clockwork marauders</p><h3 id="var/cogscarabs"><aside class="declaration">var </aside>cogscarabs <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L36"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 36"></a></h3><p>A list of all cogscarabs</p><h3 id="var/hallucination_pool"><aside class="declaration">var </aside>hallucination_pool <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L24"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 24"></a></h3><p>The pool of hallucinations we can trigger</p><h3 id="var/marked_areas"><aside class="declaration">var </aside>marked_areas <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L34"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 34"></a></h3><p>The list of areas that has been marked by the cult, formatted as a filled with 1s for anti duplication</p><h3 id="var/max_clock_power"><aside class="declaration">var </aside>max_clock_power <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L30"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 30"></a></h3><p>What is the maximum amount of power the cult can have stored</p><h3 id="var/passive_power"><aside class="declaration">var </aside>passive_power <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L32"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 32"></a></h3><p>How much passive power does the cult have access to, this gets used for things like turning on structures</p><h3 id="var/reebe_areas"><aside class="declaration">var </aside>reebe_areas <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L40"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 40"></a></h3><p>A list of all the areas on reebe</p><h3 id="var/reebe_clockwork_airlock_count"><aside class="declaration">var </aside>reebe_clockwork_airlock_count <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L26"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 26"></a></h3><p>How many clockwork airlocks have been created on reebe, used for limiting airlock spam</p><h3 id="var/valid_crystal_areas"><aside class="declaration">var </aside>valid_crystal_areas <aside>– /list</aside> <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L22"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 22"></a></h3><p>Assoc list of the original names of areas that are valid to summon anchoring crystals keyed to its area</p><h2 id="proc">Proc Details</h2><h3 id="proc/adjust_clock_power"><aside class="declaration">proc </aside>adjust_clock_power<aside>(amount, always_adjust)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L64"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 64"></a></aside></h3><p>try and adjust our clock_power, returns FALSE if it would put us above our max_clock_power or below 0, set always_adjust to TRUE to make us instead just adjust to be within bounds</p><h3 id="proc/adjust_passive_power"><aside class="declaration">proc </aside>adjust_passive_power<aside>(amount, only_check)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L76"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 76"></a></aside></h3><p>same as adjust_clock_power() but much simpler as this does not have a max amount and is somewhat static, set only_check to TRUE to skip the actual adjustment step</p><h3 id="proc/block_shuttle"><aside class="declaration">proc </aside>block_shuttle<aside>(/<a href="datum.html">datum</a>/blocker)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L142"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 142"></a></aside></h3><p>fully disables the shuttle similar to the admin verb</p><h3 id="proc/clear_shuttle_interference"><aside class="declaration">proc </aside>clear_shuttle_interference<aside>(/<a href="datum.html">datum</a>/unblocker)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L153"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 153"></a></aside></h3><p>renables the shuttle</p><h3 id="proc/convert_area_turfs"><aside class="declaration">proc </aside>convert_area_turfs<aside>(/<a href="area.html">area</a>/converted_area, conversion_percent, counter_override)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L86"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 86"></a></aside></h3><p>set up timed do_turf_conversion calls for the turfs in an area</p><h3 id="proc/do_turf_conversion"><aside class="declaration">proc </aside>do_turf_conversion<aside>(/<a href="turf.html">turf</a>/converted_turf)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L107"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 107"></a></aside></h3><p>convert a turf to our dimension theme</p><h3 id="proc/get_charged_anchor_crystals"><aside class="declaration">proc </aside>get_charged_anchor_crystals<aside>()  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L169"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 169"></a></aside></h3><p>returns how many charged anchor crystals there are</p><h3 id="proc/on_crystal_charged"><aside class="declaration">proc </aside>on_crystal_charged<aside>(/<a href="obj.html">obj</a>/<a href="obj/structure/destructible/clockwork.html">structure/destructible/clockwork</a>/<a href="obj/structure/destructible/clockwork/anchoring_crystal.html">anchoring_crystal</a>/charged_crystal)  <a href="https://github.com/wraith-54321/Monkestation2.0/blob/e8578eb37f64beb024e8b82c982cba9918712316/monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm#L119"><img src="git.png" width="16" height="16" title="monkestation/code/modules/antagonists/clock_cult/ark_subsystem/_ark_subsystem.dm 119"></a></aside></h3><p>called when an anchoring crystal is charged</p></main><footer>tgstation.dme <a href="https://github.com/wraith-54321/Monkestation2.0/tree/e8578eb37f64beb024e8b82c982cba9918712316">e8578eb</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>